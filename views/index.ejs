<!DOCTYPE html>
<html ng-app="preciobtc">
  <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway:400,300,600">
    <link rel="stylesheet" href="/skeleton-css/css/skeleton.css">
    <link rel="stylesheet" href="/skeleton-css/css/normalize.css">
    <link rel="stylesheet" href="/angular-tooltips/dist/angular-tooltips.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body ng-controller="mainController">

    <div class="container one">
      <div class="row trans">
        <h2>Calculá el valor de tu operación de Bitcoins</h2>
        <p>Compará y sacá diferencia en tu próxima operación</p>
      </div>
      <div class="row form">
        <div class="two columns">
          <label for="operacion">Operación</label>
          <select class="u-full-width" id="operacion" ng-options="operacion.name for operacion in operaciones" ng-model="selectedOperacion" ng-change="operacionChange()">
          </select>
        </div>
        <div class="two columns">
          <label for="modo">Modo</label>
          <select class="u-full-width" id="modo" ng-options="modo.name for modo in modos" ng-model="selectedModo" ng-change="modosChange()">
          </select>
        </div>
        <div class="two columns">
          <label for="sitio">Sitio</label>
          <select class="u-full-width" id="sitio" ng-options="sitio.name for sitio in sitios" ng-model="selectedSitio" ng-change="inputChange()">
          </select>
        </div>
        <div class="two columns">
          <div class="row">
            <div class="ten columns inputMonto">
              <label for="monto">Monto</label>
              <input class="u-full-width" type="text" placeholder="" id="monto" ng-model="selectedMonto" ng-change="inputChange()">
            </div>
            <div class="two columns iconMonto" style="margin-top: 42px; font-weight: bold;">
              <span ng-show="selectedOperacion.name == 'Compra'"><i class="fas fa-dollar-sign" style="font-size:23px;"></i></span>
              <span ng-show="selectedOperacion.name == 'Venta'"><i class="fab fa-bitcoin" style="font-size:23px;color: #EE8337;"></i></span>
            </div>
          </div>
        </div>
        <div class="four columns">
          <button class="button button-primary u-full-width" ng-click="buttonaAction()" ng-disabled="transShow">Calcular</button>
        </div>
      </div>
      <div class="row animate-if" ng-if="transShow">
        <div class="transCard">
            <div class="header">
              <h5>{{ selectedSitio.name }} <span class="u-pull-right" style="font-size: 14px"><i class="fas fa-question-circle" tooltips tooltip-template="{{questionMsg}}" tooltip-size="large" tooltip-side="right" tooltip-smart="true"></i></span></h5>
            </div>
            <ul>
              <!--li ng-show="selectedOperacion.name == 'Compra'">{{ selectedMonto }} BTC te costará <strong>{{ buyInBTC | currency }}</strong></li-->
              <li ng-show="selectedOperacion.name == 'Compra'">Con {{ selectedMonto | currency }} podés comprar <strong>{{ buyInARS }} BTC</li>
              <li ng-show="selectedOperacion.name == 'Venta'">Vendiendo {{ selectedMonto }} BTC obtendrás <strong>{{ sellInBTC | currency:"$":2 }}</strong></li>
            </ul>
        </div>
        <p class="msg"><i class="fas fa-bullhorn"></i> {{ transMsg }}</p>
      </div>
    </div>

    <div class="container two">
      <div id="on-air">
        <i class="fa fa-circle"></i>
        <span class="live">En vivo</span>
      </div>
      <div class="row">
        <div class="six columns">
          <h4 style="margin:0;">Comprar 1 BTC te saldrá...</h4>

          <div class="row medios">
            <h5>Modo de compra <span class="question"><i class="fas fa-question-circle" tooltips tooltip-template="Cada modo de compra posee cargos adicionales diferentes" tooltip-size="large" tooltip-side="right"></i></span></h5>
            <div class="four columns" style="margin-left: 0;">
              <label class="transferencia">
                <input type="radio" ng-model="radioModoCompra" value="transferencia" ng-change="radioCompraChange()">
                <span class="label-body">Transf. Bancaria</span>
              </label>
            </div>
            <div class="four columns">
              <label class="mercadopago">
                <input type="radio" ng-model="radioModoCompra" value="mercadopago" ng-change="radioCompraChange()">
                <span class="label-body">Mercadopago</span>
              </label>
            </div>
            <div class="four columns">
              <label class="rapipago">
                <input type="radio" ng-model="radioModoCompra" value="rapipago" ng-change="radioCompraChange()">
                <span class="label-body">Rapipago/Pagofacil</span>
              </label>
            </div>
          </div>

          <p class="ordenado">Ordenado por mejor precio de compra</p>
          <div class="example-grid docs-example">
            <div class="row tap" ng-repeat="(key, value) in tableBuy | filter: filterCompra | orderBy: 'buy'" ng-class="{opacity1: key == 0, opacity2: key == 1, opacity3: key == 2, opacity4: key == 3, opacity5: key == 4, opacity6: key == 5, opacity7: key == 6, opacity8: key == 7, opacity9: key == 8, opacity10: key == 9 }">
              <div class="two columns"><i class="fas fa-user-tie" ng-if="value.type == 'broker'" tooltips tooltip-template="Broker" tooltip-smart="true"></i><i class="fas fa-chart-area" ng-if="value.type == 'exchange'" tooltips tooltip-template="Exchange" tooltip-smart="true"></i></div>
              <div class="four columns right">{{ value.name }}</div>
              <div class="six columns left">{{ value.buy | currency }}</div>
            </div>
          </div>
        </div>
        <div class="six columns tablaVenta">
          <h4 style="margin:0;">Vendiendo 1 BTC te darán...</h4>

          <div class="row medios">
            <h5>Modo de venta <span class="question"><i class="fas fa-question-circle" tooltips tooltip-template="Cada modo de venta posee cargos adicionales diferentes" tooltip-size="large" tooltip-side="right"></i></span></h5>
            <div class="four columns" style="margin-left: 0;">
              <label class="transferencia">
                <input type="radio" ng-model="radioModoVenta" value="billetera" ng-change="radioVenderChange()">
                <span class="label-body">Wallet</span>
              </label>
            </div>
            <div class="four columns">
              <label class="mercadopago">
                <input type="radio" ng-model="radioModoVenta" value="pesos" ng-change="radioVenderChange()">
                <span class="label-body">Depósito</span>
              </label>
            </div>
          </div>

          <p class="ordenado">Ordenado por mejor precio de venta</p>
          <div class="example-grid docs-example">
            <div class="row tap" ng-repeat="(key, value) in tableSell | filter: filterVenta | orderBy: '-sell'" ng-class="{opacity1: key == 0, opacity2: key == 1, opacity3: key == 2, opacity4: key == 3, opacity5: key == 4, opacity6: key == 5, opacity7: key == 6, opacity8: key == 7, opacity9: key == 8, opacity10: key == 9 }">
              <div class="two columns"><i class="fas fa-user-tie" ng-if="value.type == 'broker'" tooltips tooltip-template="Broker" tooltip-smart="true"></i><i class="fas fa-chart-area" ng-if="value.type == 'exchange'" tooltips tooltip-template="Exchange" tooltip-smart="true"></i></div>
              <div class="four columns right">{{ value.name }}</div>
              <div class="six columns left">{{ value.sell | currency }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/angular/angular.min.js"></script>
    <script src="/angular-animate/angular-animate.min.js"></script>
    <script src="/angular-tooltips/dist/angular-tooltips.min.js"></script>
    <script src="/angular-socket-io/socket.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
    <script src="/javascripts/main.js"></script>
  </body>
</html>
